import sys
from collections import Counter
import numpy as np
import matplotlib.pyplot as plt
import matplotlib.cm as cm
import os

prediction_list = ['diffRDC', 'diffR', 'mule']

# mule_br_no_split = [214936051, 180136042, 145144499, 109402678, 71236774, 32135540, 8590766, 1530109, 319640, 76314, 14028, 4643, 2790, 2784, 2778]
# mule_pnsr_no_split = [61.2259, 61.2259, 61.2259, 61.2259, 60.3524, 53.9502, 45.2463, 38.7549, 33.023, 27.0258, 22.3152, 19.5535, 15.9364, 15.9364, 15.9364]

# diffRDC_br_no_split = [215821564, 181026675, 146055536, 110397190, 72573359, 33061582, 6899798, 945559, 201596, 47856, 3936, 2796, 2790, 2784, 2778]
# diffRDC_psnr_no_split = [61.2259, 61.2259, 61.2258, 61.1999, 56.6222, 48.2794, 40.2039, 33.5753, 27.253, 20.2919, 15.8889, 15.5919, 15.5919, 15.5919, 15.5919]

# diffR_br_no_split = [215841627, 181046738, 146075592, 110417206, 72593284, 33081597, 6921806, 968481, 214536, 61250, 12385, 2796, 2790, 2784, 2778]
# diffR_psnr_no_split = [61.2259, 61.2259, 61.2258, 61.1999, 56.6198, 48.2778, 40.2058, 33.576, 27.3137, 21.9646, 16.3678, 15.9364, 15.9364, 15.9364, 15.9364]

# diffCDC_br_no_split = [217519148, 182730835, 147784994, 112219159, 74518747, 34577880, 7572747, 1085843, 225494, 50118, 3501, 2796, 2790, 2784, 2778]
# diffCDC_psnr_no_split = [61.2259, 61.2259, 61.2259, 61.2109, 57.8682, 49.2653, 40.8134, 34.1353, 28.1319, 22.0811, 19.5529, 19.88, 19.88, 19.88, 19.88]

# mule_br_split = [214294751, 179595571, 144700887, 109049686, 70969159, 31993084, 8581556, 1581168, 342723, 96043, 24063, 11843, 13536, 13561, 13581]
# mule_pnsr_split = [61.2259, 61.2259, 61.2259, 61.2219, 60.3524, 53.9537, 45.2631, 38.8318, 33.0411, 27.109, 22.503, 19.6543, 15.9364, 15.9364, 15.9364]

# diffRDC_br_split = [215071233, 180377220, 145503550, 109934203, 72190546, 32789955, 6828218, 976597, 205249, 48306, 11457, 13308, 13385, 13454, 13528]
# diffRDC_psnr_split = [61.2259, 61.2259, 61.2259, 61.1993, 56.6248, 48.2743, 40.1824, 33.5018, 27.0946, 20.4069, 15.807, 15.5919, 15.5919, 15.5919, 15.5919]

# diffR_br_split = [215085469, 180391640, 145517922, 109949181, 72204980, 32805171, 6844390, 989565, 219021, 55149, 16694, 14200, 14272, 14337, 14389]
# diffR_psnr_split = [61.2259, 61.2259, 61.2259, 61.1992, 56.6213, 48.2703, 40.1699, 33.5126, 27.5476, 21.9401, 16.7155, 15.9364, 15.9364, 15.9364, 15.9364]

# diffCDC_br_split = [216639128, 181950359, 147098450, 111612518, 73968717, 34162215, 7495588, 1148514, 236232, 50914, 11942, 13301, 13395, 13461, 13519]
# diffCDC_psnr_split = [61.2259, 61.2259, 61.2259, 61.2105, 57.8287, 49.2616, 40.8399, 34.1546, 28.1193, 22.3542, 19.6544, 19.88, 19.88, 19.88, 19.88]

inferior_bitplanes = [0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28]

# mule_partition_numbers = [263, 265, 267, 274, 297, 256, 128, 684, 920, 1585, 1706, 2840, 3616, 3618, 3619]
# diffRDC_partition_numbers = [420, 419, 425, 428, 454, 476, 629, 2229, 1755, 2124, 3374, 3584, 3594, 3600, 3610]
# diffR_partition_numbers = [423, 423, 428, 435, 458, 484, 671, 2350, 2315, 2037, 2723, 3615, 3625, 3631, 3636]
# diffCDC_partition_numbers = [690, 690, 696, 712, 745, 744, 887, 1816, 1356, 1934, 3436, 3576, 3592, 3598, 3603]

# mule_no_split_bc_decrease = [333374036, 333069594,332754263,332314415, 329526258, 289919973, 166663982, 79752699, 38458153, 15987332, 6304285, 3233935, 2404332, 1717380, 1030428]
# diffRDC_no_split_bc_decrease = [310368129, 310060792, 309733986, 309145596, 304945758, 267956111, 136306578, 45862374, 18614343, 7130260, 3823060, 3091284, 2404332, 1717380, 1030428]
# diffR_no_split_bc_decrease =[315650633, 315347886, 315025404, 314439861, 310221824, 273080910, 141257881, 50407029, 21830002, 9448997, 4098224, 3091284, 2404332, 1717380, 1030428]
# diffCDC_no_split_bc_decrease = [310218461, 309903564, 309575180, 309078156, 306063004, 272679126, 144633484, 50968199, 19878104, 7053751, 3810877, 3091284, 2404332, 1717380, 1030428]
# diffC_no_split_bc_decrease = [316707827, 316400708, 316079995, 315590274, 312580529, 279197143, 151183326, 57301136, 23505855, 8078474, 3887157, 3091284, 2404332, 1717380, 1030428]

# mule_no_split_HDT_splits = [213654237, 213651319, 213620522, 213200600, 204346698, 136543646, 47309301, 10478876, 3066081, 826115, 174697, 10258, 0, 0, 0]
# diffRDC_no_split_HDT_splits = [213654800, 213650066, 213592550, 212804661,  203428177, 144537945, 39619232, 6583617, 1936034, 367095, 4559, 0, 0, 0, 0]
# diffR_no_split_HDT_splits = [213653459, 213648579,213590801, 212797804, 203369346, 144383341, 39520438, 6587873, 2011516, 629900, 35670, 0, 0,  0, 0]
# diffCDC_no_split_HDT_splits = [213656195, 213652805, 213613866, 213095402, 205410125, 147148985, 42514039, 7602098, 2163290, 359023, 3378, 0, 0, 0, 0]
# diffC_no_split_HDT_splits = [213654004, 213650583, 213611355, 213091751, 205401172, 147146204, 42587644, 7866498, 2399831, 459486, 10349, 0, 0, 0, 0]

# mule_split_bc_decrease = [334861342, 334543837, 334239176, 333836295, 331436633, 291784697, 167213007, 80700489, 38964926, 16472230, 6537863, 3524544, 2765175, 1975905, 1185948]
# diffRDC_split_bc_decrease = [311809192, 311472250, 311153100, 310559467, 306433520, 269436781, 138068564, 47524403, 19408354, 7404464, 4197424, 3545019, 2760114, 1973340, 1185183]
# diffR_split_bc_decrease =[317166023, 316840296, 316507257, 315930279, 311776670, 274643614, 143149359, 52167296, 22734561, 9727644, 4317675, 3583548, 2789892, 1994520, 1197576]
# diffCDC_split_bc_decrease = [312577432, 312218143, 311878963, 311419652, 308502126, 275046115, 146789280, 52591608, 20491462, 7309142, 4215001, 3544722, 2760450, 1973520, 1185048]
# diffC_split_bc_decrease = [319058292, 318724619, 318392140, 317938381, 315043004, 281564480, 153247141, 58922732, 24212219, 8364434, 4142538, 3542832, 2760009, 1972920, 1184625]

mule_spatial_partitionings = [559, 571, 577, 566, 597, 464, 177, 852, 1094, 1398, 2309, 7796, 12202, 12250, 12254]
diffRDC_spatial_partitionings = [919, 913, 933, 960, 1031, 1091, 820, 1845, 925, 1612, 8361, 12027, 12103, 12181, 12247]
diffR_spatial_partitionings = [936, 904, 969, 969, 1014, 1146, 848, 1883, 974, 1612, 4623, 12706, 12791, 12833, 12913]
diffCDC_spartial_partitionings = [1540, 1550,1534, 1628, 1655,  1684, 1251, 1879, 833, 1576, 8971, 12030, 12139, 12188, 12262]

# mule_angular_partitionings = [834, 830, 831, 861, 837, 502, 98, 285, 688, 996, 1125, 2901, 4981, 4985, 5026]
# diffRDC_angular_partitionings = [1383, 1385, 1391, 1373, 1434, 1403, 998, 2402, 1473, 1243, 2848, 4778, 4839, 4883, 4948]
# diffR_angular_partitionings = [1372, 1404, 1355, 1391, 1467, 1380, 1036, 2578, 2124, 1184, 1579, 5526, 5569, 5643, 5659]
# diffCDC_angular_partitionings = [2064, 2062, 2108, 2092, 2250, 2116, 1425, 2152, 1156, 1116, 3019, 4764, 4819, 4888, 4918]

#plt.figure(figsize=(30, 10))
plt.plot(inferior_bitplanes, mule_spatial_partitionings, '-or', label='MuLe', linewidth=3)
# for i, txt in enumerate(inferior_bitplanes):
# 	plt.annotate(txt, (inferior_bitplanes[i], mule_partition_numbers[i]))

plt.plot(inferior_bitplanes, diffRDC_spatial_partitionings, '-ob', label='diffRDC', linewidth=3)
# for i, txt in enumerate(inferior_bitplanes):
# 	plt.annotate(txt, (inferior_bitplanes[i], diffRDC_partition_numbers[i]))


plt.plot(inferior_bitplanes, diffR_spatial_partitionings, '-og', label='diffR', linewidth=3)
# for i, txt in enumerate(inferior_bitplanes):
# 	plt.annotate(txt, (inferior_bitplanes[i], diffR_partition_numbers[i]))

plt.plot(inferior_bitplanes, diffCDC_spartial_partitionings, '-ok', label='diffCDC', linewidth=3)
# for i, txt in enumerate(inferior_bitplanes):
# 	plt.annotate(txt, (inferior_bitplanes[i], diffR_partition_numbers[i]))

# plt.plot(inferior_bitplanes, diffC_split_bc_decrease, '-om', label='diffC', linewidth=3)
# for i, txt in enumerate(inferior_bitplanes):
# 	plt.annotate(txt, (inferior_bitplanes[i], diffR_partition_numbers[i]))
plt.xlabel('Bmin', fontsize=20)
plt.legend(fontsize=22)
plt.tight_layout()
plt.ylabel('Spatial partitionings', fontsize=20)
plt.title('SPLIT', fontsize=22)
plt.xticks(fontsize=20)
plt.yticks(fontsize=20)
ax = plt.gca()
ax.ticklabel_format(useOffset=False)
plt.show()